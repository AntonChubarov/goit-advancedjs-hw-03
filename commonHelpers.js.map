{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/main.js"],"sourcesContent":["// import axios from 'axios';\n//\n// axios.defaults.headers.common['x-api-key'] = 'live_Xzy98WDZOtYgu2L5fGlsKzL763ewGECS740YZoQ7ASi9RIVY0wwFhTnv7ZRUecLp';\n//\n// export const fetchBreeds = () => {\n//   return fetch('https://api.thecatapi.com/v1/breeds')\n//     .then(response => response.json())\n//     .catch(error => {\n//       throw new Error(`Error fetching breeds: ${error}`);\n//     });\n// };\n//\n// export const fetchCatByBreed = (breedId) => {\n//   return fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n//     .then(response => response.json())\n//     .catch(error => {\n//       throw new Error(`Error fetching breed ${breedId}: ${error}`);\n//     });\n// };\n//\n//\n\nimport axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] = 'live_Xzy98WDZOtYgu2L5fGlsKzL763ewGECS740YZoQ7ASi9RIVY0wwFhTnv7ZRUecLp';\n\nexport const fetchBreeds = () => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      fetch('https://api.thecatapi.com/v1/breeds')\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(`Failed to fetch breeds. Status code ${response.status}`);\n          }\n          return response.json();\n        })\n        .then(resolve)\n        .catch(error => reject(new Error(`Error fetching breeds: ${error.message}`)));\n    }, 1500); // 2-second delay for testing\n  });\n};\n\nexport const fetchCatImageByBreed = (breedId) => {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n        .then(response => {\n          if (!response.ok) {\n            throw new Error(`Failed to fetch cat image. Status code ${response.status}`);\n          }\n          return response.json();\n        })\n        .then(resolve)\n        .catch(error => reject(new Error(`Error fetching image ${breedId}: ${error.message}`)));\n    }, 1500); // 2-second delay for testing\n  });\n};\n\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { fetchBreeds, fetchCatImageByBreed } from './cat-api.js';\n\nconst breedSelect = document.getElementById('breed-select');\nconst catInfo = document.getElementById('cat-info');\nconst loader = document.querySelector('.loader');\n\nconst showElement = (element) => {\n  element.classList.remove('visually-hidden');\n};\n\nconst hideElement = (element) => {\n  element.classList.add('visually-hidden');\n};\n\nhideElement(catInfo);\nhideElement(breedSelect);\nshowElement(loader);\nfetchBreeds()\n  .then(data => {\n    breedSelect.innerHTML = data.map(breed => `<option value=\"${breed.id}\">${breed.name}</option>`).join('');\n    data.forEach(breed => {\n      localStorage.setItem(breed.id, JSON.stringify(breed));\n    });\n    showElement(breedSelect);\n  })\n  .catch(error => {\n    iziToast.error({ title: 'Error', message: error.message });\n  })\n  .finally(() => {\n    breedSelect.selectedIndex = -1;\n    hideElement(loader);\n  });\n\nbreedSelect.addEventListener('change', () => {\n  const breedId = breedSelect.value;\n  if (breedId) {\n    hideElement(catInfo);\n    showElement(loader);\n\n    fetchCatImageByBreed(breedId)\n      .then(data => {\n        const image = data[0];\n        const breedData = JSON.parse(localStorage.getItem(breedId));\n        catInfo.innerHTML = `\n            <h2>${breedData.name}</h2>\n            <img src=\"${image.url}\" alt=\"${breedData.name} cat image\" />\n            <p>${breedData.description}</p>\n            <p><b>Temperament:</b> ${breedData.temperament}</p>\n          `;\n        showElement(catInfo);\n      })\n      .catch(error => {\n        iziToast.error({ title: 'Error', message: error.message });\n      })\n      .finally(() => {\n        hideElement(loader);\n      });\n  }\n});"],"names":["axios","fetchBreeds","resolve","reject","response","error","fetchCatImageByBreed","breedId","breedSelect","catInfo","loader","showElement","element","hideElement","data","breed","iziToast","image","breedData"],"mappings":"6vBAwBAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,wEAEtC,MAAMC,EAAc,IAClB,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,WAAW,IAAM,CACf,MAAM,qCAAqC,EACxC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uCAAuCA,EAAS,MAAM,EAAE,EAE1E,OAAOA,EAAS,MAC1B,CAAS,EACA,KAAKF,CAAO,EACZ,MAAMG,GAASF,EAAO,IAAI,MAAM,0BAA0BE,EAAM,OAAO,EAAE,CAAC,CAAC,CAC/E,EAAE,IAAI,CACX,CAAG,EAGUC,EAAwBC,GAC5B,IAAI,QAAQ,CAACL,EAASC,IAAW,CACtC,WAAW,IAAM,CACf,MAAM,wDAAwDI,CAAO,EAAE,EACpE,KAAKH,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,0CAA0CA,EAAS,MAAM,EAAE,EAE7E,OAAOA,EAAS,MAC1B,CAAS,EACA,KAAKF,CAAO,EACZ,MAAMG,GAASF,EAAO,IAAI,MAAM,wBAAwBI,CAAO,KAAKF,EAAM,OAAO,EAAE,CAAC,CAAC,CACzF,EAAE,IAAI,CACX,CAAG,EClDGG,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAU,SAAS,eAAe,UAAU,EAC5CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAeC,GAAY,CAC/BA,EAAQ,UAAU,OAAO,iBAAiB,CAC5C,EAEMC,EAAeD,GAAY,CAC/BA,EAAQ,UAAU,IAAI,iBAAiB,CACzC,EAEAC,EAAYJ,CAAO,EACnBI,EAAYL,CAAW,EACvBG,EAAYD,CAAM,EAClBT,EAAa,EACV,KAAKa,GAAQ,CACZN,EAAY,UAAYM,EAAK,IAAIC,GAAS,kBAAkBA,EAAM,EAAE,KAAKA,EAAM,IAAI,WAAW,EAAE,KAAK,EAAE,EACvGD,EAAK,QAAQC,GAAS,CACpB,aAAa,QAAQA,EAAM,GAAI,KAAK,UAAUA,CAAK,CAAC,CAC1D,CAAK,EACDJ,EAAYH,CAAW,CAC3B,CAAG,EACA,MAAMH,GAAS,CACdW,EAAS,MAAM,CAAE,MAAO,QAAS,QAASX,EAAM,OAAO,CAAE,CAC7D,CAAG,EACA,QAAQ,IAAM,CACbG,EAAY,cAAgB,GAC5BK,EAAYH,CAAM,CACtB,CAAG,EAEHF,EAAY,iBAAiB,SAAU,IAAM,CAC3C,MAAMD,EAAUC,EAAY,MACxBD,IACFM,EAAYJ,CAAO,EACnBE,EAAYD,CAAM,EAElBJ,EAAqBC,CAAO,EACzB,KAAKO,GAAQ,CACZ,MAAMG,EAAQH,EAAK,CAAC,EACdI,EAAY,KAAK,MAAM,aAAa,QAAQX,CAAO,CAAC,EAC1DE,EAAQ,UAAY;AAAA,kBACVS,EAAU,IAAI;AAAA,wBACRD,EAAM,GAAG,UAAUC,EAAU,IAAI;AAAA,iBACxCA,EAAU,WAAW;AAAA,qCACDA,EAAU,WAAW;AAAA,YAElDP,EAAYF,CAAO,CAC3B,CAAO,EACA,MAAMJ,GAAS,CACdW,EAAS,MAAM,CAAE,MAAO,QAAS,QAASX,EAAM,OAAO,CAAE,CACjE,CAAO,EACA,QAAQ,IAAM,CACbQ,EAAYH,CAAM,CAC1B,CAAO,EAEP,CAAC"}