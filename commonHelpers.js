import{a as f,i as u}from"./assets/vendor-1c96f17f.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const m of n.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();f.defaults.headers.common["x-api-key"]="live_Xzy98WDZOtYgu2L5fGlsKzL763ewGECS740YZoQ7ASi9RIVY0wwFhTnv7ZRUecLp";const h=()=>new Promise((e,t)=>{setTimeout(()=>{fetch("https://api.thecatapi.com/v1/breeds").then(s=>{if(!s.ok)throw new Error(`Failed to fetch breeds. Status code ${s.status}`);return s.json()}).then(e).catch(s=>t(new Error(`Error fetching breeds: ${s.message}`)))},1500)}),g=e=>new Promise((t,s)=>{setTimeout(()=>{fetch(`https://api.thecatapi.com/v1/images/search?breed_ids=${e}`).then(o=>{if(!o.ok)throw new Error(`Failed to fetch cat image. Status code ${o.status}`);return o.json()}).then(t).catch(o=>s(new Error(`Error fetching image ${e}: ${o.message}`)))},1500)}),i=document.getElementById("breed-select"),a=document.getElementById("cat-info"),l=document.querySelector(".loader"),d=e=>{e.classList.remove("visually-hidden")},c=e=>{e.classList.add("visually-hidden")};c(a);c(i);d(l);h().then(e=>{i.innerHTML=e.map(t=>`<option value="${t.id}">${t.name}</option>`).join(""),e.forEach(t=>{localStorage.setItem(t.id,JSON.stringify(t))}),d(i)}).catch(e=>{u.error({title:"Error",message:e.message})}).finally(()=>{i.selectedIndex=-1,c(l)});i.addEventListener("change",()=>{const e=i.value;e&&(c(a),d(l),g(e).then(t=>{const s=t[0],o=JSON.parse(localStorage.getItem(e));a.innerHTML=`
            <h2>${o.name}</h2>
            <img src="${s.url}" alt="${o.name} cat image" />
            <p>${o.description}</p>
            <p><b>Temperament:</b> ${o.temperament}</p>
          `,d(a)}).catch(t=>{u.error({title:"Error",message:t.message})}).finally(()=>{c(l)}))});
//# sourceMappingURL=commonHelpers.js.map
